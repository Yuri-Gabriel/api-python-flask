stages: 
  - start_venv
  - install
  - tests
  - build
  
start_venv:
  stage: start_venv
  script:
    - source .venv/bin/activate

install:
  stage: install
  image: python:3
  script:
    - python -m pip install -r requirements.txt

tests:
  stage: tests
  image: python:3
  script:
    - python -m pytest tests/test_api.py

build:
  stage: build
  image: python:3
  script:
    - python app.py